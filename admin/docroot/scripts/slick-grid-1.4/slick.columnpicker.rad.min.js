!function(e){function t(t,n){function o(){n.onHeaderContextMenu=c,r=e("<span class='slick-columnpicker' style='display:none;position:absolute;z-index:20;max-height:500px;overflow-y:scroll;' />").appendTo(document.body),r.bind("mouseleave",function(t){e(this).fadeOut()}),r.bind("click",i)}function c(o){r.empty();for(var c,i,d=(n.getColumns(),0);d<t.length;d++)t[d].permanent||(c=e("<li />").appendTo(r),i=e("<input type='checkbox' />").attr("id","columnpicker_"+d).attr("rel",t[d].id).data("id",t[d].id).appendTo(c),null!=n.getColumnIndex(t[d].id)&&i.prop("checked","checked"),e("<label for='columnpicker_"+d+"' />").text(t[d].name).appendTo(c));e("<hr/>").appendTo(r),c=e("<li />").appendTo(r),i=e("<input type='checkbox' id='autoresize' />").appendTo(c),e("<label for='autoresize'>Force Fit Columns</label>").appendTo(c),n.getOptions().forceFitColumns&&i.prop("checked","checked"),r.css("top",o.pageY-10).css("left",o.pageX-10).fadeIn()}function i(o){if("autoresize"==o.target.id)return void(o.target.checked?(n.setOptions({forceFitColumns:!0}),n.autosizeColumns()):n.setOptions({forceFitColumns:!1}));if(e(o.target).is(":checkbox")){if(0==r.find(":checkbox:checked").length)return void e(o.target).attr("checked","checked");var c=[],i=n.getColumns(),d=r.find(":checkbox[id^=columnpicker]");e.each(i,function(){var e=d.filter("[rel="+this.id+"]");(this.permanent||e.is(":checked"))&&(c.push(this),e.removeAttr("checked"))}),d.filter(":checked").each(function(){var n=e(this);e.each(t,function(){n.attr("rel")==this.id&&c.push(this)})}),e.each(c,function(){d.filter("[rel="+this.id+"]").prop("checked","checked")}),n.setColumns(c),n.onColumnsSelected&&n.onColumnsSelected()}}var r;o()}e.extend(!0,window,{Slick:{Controls:{ColumnPicker:t}}})}(jQuery);